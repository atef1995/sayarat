/**
 * Create Sample Blog Posts Script
 * Creates multiple sample blog posts for testing the frontend
 * Follows modular architecture and DRY principles
 */

require('@dotenvx/dotenvx').config({ path: '../.env.development' });
const knex = require('./config/database');
const { markdownToHtml, calculateReadingTime } = require('./utils/markdownUtils');

/**
 * Sample blog posts data
 * Modular data structure for easy maintenance and extension
 */
const samplePosts = [
  {
    title: 'دليل شراء سيارة مستعملة: نصائح مهمة لاختيار السيارة المناسبة',
    slug: 'used-car-buying-guide-2025',
    content: `شراء سيارة مستعملة يمكن أن يكون خياراً ممتازاً لتوفير المال والحصول على سيارة جيدة. ولكن يتطلب الأمر بعض الحذر والتخطيط لضمان اتخاذ القرار الصحيح.

## النصائح الأساسية قبل الشراء

### 1. تحديد الميزانية
- حدد المبلغ الذي يمكنك دفعه
- احسب التكاليف الإضافية مثل التأمين والصيانة
- اترك مبلغاً احتياطياً للإصلاحات المحتملة

### 2. البحث عن السيارة المناسبة
- ابحث عن موديلات معروفة بالموثوقية
- راجع تقييمات المالكين السابقين
- قارن الأسعار في السوق المحلي

### 3. فحص السيارة
- افحص المحرك والمكابح
- تأكد من حالة الإطارات
- اطلب تقرير الفحص الفني

## المراحل النهائية للشراء

### التأكد من الأوراق
- تأكد من صحة وثائق الملكية
- راجع تاريخ الصيانة
- تحقق من عدم وجود مخالفات مرورية

### التفاوض على السعر
- ابحث عن أسعار مماثلة في السوق
- لا تتردد في التفاوض
- فكر في التكاليف الإضافية

## الخلاصة

شراء سيارة مستعملة يتطلب صبراً وبحثاً جيداً. اتبع هذه النصائح لضمان اتخاذ القرار الأمثل والحصول على سيارة تخدمك لسنوات قادمة.`,
    excerpt: 'دليل شامل لشراء سيارة مستعملة يتضمن أهم النصائح والخطوات اللازمة لاتخاذ القرار الصحيح وتجنب المشاكل الشائعة.',
    featured_image: 'https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?w=800&q=80',
    is_featured: true,
    car_make: 'Toyota',
    car_model: 'Camry',
    car_year: 2020,
    price_range_min: 15000,
    price_range_max: 25000,
    rating: 4.5,
    pros: ['موثوقية عالية', 'استهلاك وقود اقتصادي', 'قطع غيار متوفرة', 'سهولة الصيانة', 'قيمة إعادة البيع جيدة'],
    cons: ['سعر مرتفع نسبياً', 'تصميم تقليدي', 'مساحة صندوق محدودة'],
    specifications: {
      engine: '2.5L 4-Cylinder',
      transmission: 'CVT',
      fuel_economy: '8.5L/100km',
      seating: '5 passengers',
      safety_rating: '5 stars'
    },
    views_count: 127,
    likes_count: 23,
    reading_time: 5
  },
  {
    title: 'أفضل السيارات الاقتصادية في استهلاك الوقود لعام 2025',
    slug: 'best-fuel-efficient-cars-2025',
    content: `مع ارتفاع أسعار الوقود، أصبح اختيار سيارة اقتصادية في استهلاك الوقود أولوية قصوى للعديد من المشترين. إليك قائمة بأفضل السيارات من هذه الناحية.

## السيارات الهجينة

### تويوتا بريوس 2025
- استهلاك الوقود: 4.4 لتر/100 كم
- السعر: يبدأ من $28,000
- المميزات: تقنية هجينة متطورة، مساحة واسعة

### هوندا إنسايت
- استهلاك الوقود: 4.7 لتر/100 كم  
- السعر: يبدأ من $25,500
- المميزات: تصميم أنيق، تقنيات متقدمة

## السيارات التقليدية

### نيسان فيرسا
- استهلاك الوقود: 6.2 لتر/100 كم
- السعر: يبدأ من $17,000
- المميزات: سعر منافس، صيانة اقتصادية

### ميتسوبيشي ميراج
- استهلاك الوقود: 5.8 لتر/100 كم
- السعر: يبدأ من $16,500
- المميزات: أرخص الخيارات، ضمان طويل

## نصائح لتوفير الوقود

1. **القيادة الهادئة**: تجنب التسارع المفاجئ
2. **صيانة منتظمة**: حافظ على السيارة في حالة جيدة
3. **ضغط الإطارات**: تأكد من الضغط المناسب
4. **تخطيط الرحلات**: ادمج عدة مهام في رحلة واحدة

## الخلاصة

الاستثمار في سيارة اقتصادية في استهلاك الوقود يوفر المال على المدى الطويل ويساهم في حماية البيئة.`,
    excerpt: 'اكتشف أفضل السيارات الاقتصادية في استهلاك الوقود لعام 2025، مع مقارنة شاملة للأسعار والمواصفات ونصائح لتوفير الوقود.',
    featured_image: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&q=80',
    is_featured: true,
    car_make: 'Toyota',
    car_model: 'Prius',
    car_year: 2025,
    price_range_min: 25000,
    price_range_max: 35000,
    rating: 4.7,
    pros: ['استهلاك وقود ممتاز', 'صديق للبيئة', 'تقنيات متقدمة', 'موثوقية عالية'],
    cons: ['ضوضاء المحرك', 'أداء محدود', 'سعر مرتفع نسبياً'],
    specifications: {
      engine: 'Hybrid 1.8L',
      transmission: 'CVT',
      fuel_economy: '4.4L/100km',
      seating: '5 passengers',
      safety_rating: '5 stars'
    },
    views_count: 89,
    likes_count: 17,
    reading_time: 4
  },
  {
    title: 'مراجعة شاملة: مرسيدس بنز C-Class 2025',
    slug: 'mercedes-c-class-2025-review',
    content: `مرسيدس بنز C-Class تمثل الفخامة والأداء في فئة السيارات المتوسطة. دعونا نستكشف ما تقدمه النسخة الجديدة لعام 2025.

## التصميم الخارجي

النسخة الجديدة تتميز بتصميم عصري وأنيق يجمع بين الرياضية والفخامة:

- **المقدمة**: شبك أمامي جديد بتصميم الماسة
- **الإضاءة**: مصابيح LED متطورة مع تقنية الإضاءة التكيفية
- **الجانبين**: خطوط انسيابية تعكس الطابع الرياضي
- **المؤخرة**: مصابيح خلفية بتصميم ثلاثي الأبعاد

## المقصورة الداخلية

المقصورة تجسد معنى الفخامة الألمانية:

### المواد والتشطيبات
- جلد طبيعي عالي الجودة
- تطعيمات خشبية أو ألمنيوم
- إضاءة محيطية بـ 64 لون

### التقنيات
- شاشة MBUX بحجم 11.9 بوصة
- نظام صوتي Burmester
- شحن لاسلكي للهواتف

## الأداء والمحرك

### المحركات المتاحة

**C 300**: محرك 4 سلندر تيربو 2.0 لتر
- القوة: 255 حصان
- العزم: 400 نيوتن متر
- التسارع 0-100: 6.0 ثانية

**C 43 AMG**: محرك V6 تيربو 3.0 لتر
- القوة: 402 حصان  
- العزم: 500 نيوتن متر
- التسارع 0-100: 4.6 ثانية

## أنظمة الأمان

- نظام Pre-Safe للحماية الاستباقية
- مساعد الطوارئ الطبية
- نظام تجنب الاصطدام
- مراقبة النقطة العمياء
- مساعد الحفاظ على المسار

## السعر والمنافسة

### الأسعار (تقديرية)
- C 300: يبدأ من $45,000
- C 43 AMG: يبدأ من $65,000

### المنافسون الرئيسيون
- BMW الفئة الثالثة
- أودي A4
- جينيسيس G70

## المميزات والعيوب

### المميزات
- جودة تصنيع عالية
- تقنيات متقدمة
- أداء قوي ومتوازن
- راحة قيادة ممتازة

### العيوب  
- سعر مرتفع
- تكلفة صيانة عالية
- بعض التقنيات معقدة

## الخلاصة

مرسيدس C-Class 2025 تقدم تجربة فخامة حقيقية مع أداء متميز. إنها خيار ممتاز لمن يبحث عن سيارة متوسطة فاخرة.

**التقييم النهائي: 4.3/5**`,
    excerpt: 'مراجعة تفصيلية لمرسيدس بنز C-Class 2025 تشمل التصميم والأداء والتقنيات والأسعار مع مقارنة شاملة مع المنافسين.',
    featured_image: 'https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80',
    is_featured: false,
    car_make: 'Mercedes-Benz',
    car_model: 'C-Class',
    car_year: 2025,
    price_range_min: 45000,
    price_range_max: 75000,
    rating: 4.3,
    pros: ['جودة تصنيع عالية', 'تقنيات متقدمة', 'أداء قوي ومتوازن', 'راحة قيادة ممتازة'],
    cons: ['سعر مرتفع', 'تكلفة صيانة عالية', 'بعض التقنيات معقدة'],
    specifications: {
      engine: '2.0L Turbo 4-Cylinder',
      transmission: '9G-TRONIC',
      fuel_economy: '8.2L/100km',
      seating: '5 passengers',
      safety_rating: '5 stars'
    },
    views_count: 156,
    likes_count: 31,
    reading_time: 7
  },
  {
    title: 'السيارات الكهربائية: مستقبل النقل في المنطقة العربية',
    slug: 'electric-cars-future-middle-east',
    content: `تشهد صناعة السيارات تحولاً جذرياً نحو الكهرباء، والمنطقة العربية ليست استثناءً من هذا التطور المثير.

## الوضع الحالي في المنطقة

### الإمارات العربية المتحدة
- خطة لجعل 42% من السيارات كهربائية بحلول 2030
- شبكة شحن متنامية في دبي وأبوظبي
- حوافز حكومية للمشترين

### المملكة العربية السعودية
- استثمارات ضخمة في صناعة البطاريات
- شراكات مع الشركات العالمية
- مشروع نيوم للمدينة الذكية

### قطر والبحرين
- خطط طموحة لكأس العالم 2022
- استثمار في البنية التحتية
- سياسات داعمة للسيارات النظيفة

## أفضل السيارات الكهربائية المتاحة

### Tesla Model 3
- المدى: 550 كم
- السعر: $45,000
- المميزات: شبكة شحن واسعة، تقنيات متقدمة

### BMW iX3  
- المدى: 460 كم
- السعر: $55,000
- المميزات: فخامة ألمانية، أداء قوي

### Hyundai IONIQ 5
- المدى: 480 كم
- السعر: $42,000
- المميزات: شحن سريع، تصميم مستقبلي

### Audi e-tron
- المدى: 400 كم
- السعر: $70,000
- المميزات: فخامة وراحة، تقنيات متطورة

## التحديات والحلول

### التحديات
1. **البنية التحتية**: نقص محطات الشحن
2. **الأسعار**: تكلفة أولية مرتفعة
3. **الوعي**: حاجة لتثقيف المستهلكين
4. **المناخ**: تأثير الحرارة على البطاريات

### الحلول المقترحة
1. **الاستثمار الحكومي**: في محطات الشحن
2. **الحوافز المالية**: دعم وتخفيضات ضريبية
3. **التوعية**: حملات إعلامية وتعليمية
4. **التطوير التقني**: بطاريات مقاومة للحرارة

## الفوائد الاقتصادية والبيئية

### الفوائد الاقتصادية
- تقليل تكاليف التشغيل
- خلق فرص عمل جديدة
- تقليل الاعتماد على النفط
- جذب الاستثمارات التقنية

### الفوائد البيئية
- صفر انبعاثات مباشرة
- تحسين جودة الهواء
- تقليل التلوث الصوتي
- المساهمة في مكافحة التغير المناخي

## التوقعات المستقبلية

### 2025-2030
- نمو كبير في المبيعات
- انخفاض الأسعار
- تحسن في البنية التحتية
- دخول علامات تجارية جديدة

### ما بعد 2030
- هيمنة السيارات الكهربائية
- تقنيات شحن أسرع
- مدى أطول للبطاريات
- اندماج مع الذكاء الاصطناعي

## نصائح للمشترين

1. **احسب احتياجاتك**: المدى اليومي المطلوب
2. **ابحث عن الحوافز**: الدعم الحكومي المتاح
3. **فكر في التكلفة الإجمالية**: شامل الصيانة والطاقة
4. **اختبر القيادة**: جرب السيارة قبل الشراء

## الخلاصة

السيارات الكهربائية ليست مجرد اتجاه مؤقت، بل هي مستقبل النقل. المنطقة العربية تتحرك بسرعة نحو هذا المستقبل.`,
    excerpt: 'تحليل شامل لمستقبل السيارات الكهربائية في المنطقة العربية، مع استعراض أفضل الموديلات والتحديات والفرص المتاحة.',
    featured_image: 'https://images.unsplash.com/photo-1593941707882-a5bac6861d75?w=800&q=80',
    is_featured: true,
    car_make: 'Tesla',
    car_model: 'Model 3',
    car_year: 2025,
    price_range_min: 40000,
    price_range_max: 80000,
    rating: 4.6,
    pros: ['صديق للبيئة', 'تكلفة تشغيل منخفضة', 'تقنيات متقدمة', 'أداء قوي وهادئ'],
    cons: ['شبكة شحن محدودة', 'سعر مرتفع', 'قلق المدى', 'وقت الشحن'],
    specifications: {
      engine: 'Electric Motor',
      transmission: 'Single Speed',
      range: '550 km',
      seating: '5 passengers',
      safety_rating: '5 stars'
    },
    views_count: 203,
    likes_count: 45,
    reading_time: 8
  },
  {
    title: 'أفضل السيارات العائلية لعام 2025: مقارنة شاملة',
    slug: 'best-family-cars-2025-comparison',
    content: `اختيار السيارة العائلية المناسبة قرار مهم يؤثر على راحة وأمان العائلة. إليك دليل شامل لأفضل الخيارات لعام 2025.

## معايير اختيار السيارة العائلية

### الأولويات الأساسية
1. **الأمان**: تقييمات السلامة العالية
2. **المساحة**: سعة للركاب والأمتعة
3. **الموثوقية**: سجل حافل بالأداء
4. **الاقتصادية**: استهلاك وقود معقول
5. **الراحة**: مقاعد مريحة وتقنيات مساعدة

## فئة السيدان الكبيرة

### تويوتا كامري 2025
**النقاط الإيجابية:**
- موثوقية استثنائية
- مساحة داخلية واسعة
- استهلاك وقود اقتصادي
- تقنيات أمان متقدمة

**النقاط السلبية:**
- تصميم تقليدي
- ضوضاء طريق ملحوظة

**السعر**: $28,000 - $38,000

### هوندا أكورد 2025
**النقاط الإيجابية:**
- تصميم عصري وأنيق
- مقصورة هادئة ومريحة
- محرك توربو قوي
- تقنيات متطورة

**النقاط السلبية:**
- مساحة تخزين محدودة
- سعر مرتفع نسبياً

**السعر**: $30,000 - $42,000

## فئة الـ SUV المتوسطة

### مازدا CX-5 2025
**النقاط الإيجابية:**
- تصميم راقي وجذاب
- جودة تصنيع عالية
- قيادة ممتعة ومتوازنة
- استهلاك وقود جيد

**النقاط السلبية:**
- مساحة المقعد الثالث ضيقة
- تقنيات أقل من المنافسين

**السعر**: $32,000 - $45,000

### فولكس واجن تيجوان 2025
**النقاط الإيجابية:**
- مقصورة فخمة وعالية الجودة
- تقنيات متقدمة
- أداء محرك ممتاز
- ضمان طويل

**النقاط السلبية:**
- تكلفة صيانة مرتفعة
- موثوقية أقل نسبياً

**السعر**: $35,000 - $48,000

## فئة الميني فان

### هوندا أوديسي 2025
**النقاط الإيجابية:**
- مساحة هائلة للركاب والأمتعة
- أبواب منزلقة عملية
- تقنيات ترفيه متطورة
- أمان وموثوقية عالية

**النقاط السلبية:**
- استهلاك وقود مرتفع
- مظهر خارجي غير رياضي

**السعر**: $38,000 - $52,000

### تويوتا سيينا 2025
**النقاط الإيجابية:**
- نظام هجين قياسي
- دفع رباعي متاح
- تقنيات أمان شاملة
- موثوقية تويوتا المعهودة

**النقاط السلبية:**
- ضوضاء محرك
- مساحة تخزين أقل

**السعر**: $40,000 - $55,000

## السيارات الكهربائية العائلية

### تيسلا موديل Y 2025
**النقاط الإيجابية:**
- صفر انبعاثات
- تقنيات متقدمة جداً
- أداء رياضي ممتاز
- شبكة شحن واسعة

**النقاط السلبية:**
- سعر مرتفع
- جودة تصنيع متغيرة
- خدمة ما بعد البيع محدودة

**السعر**: $55,000 - $70,000

## مقارنة التكاليف

### تكلفة الملكية (5 سنوات)
1. **تويوتا كامري**: $42,000
2. **هوندا أكورد**: $48,000
3. **مازدا CX-5**: $52,000
4. **تيسلا موديل Y**: $68,000

### عوامل التكلفة
- سعر الشراء
- استهلاك الوقود/الكهرباء
- تكاليف الصيانة
- قيمة إعادة البيع
- التأمين

## نصائح للاختيار

### قبل الشراء
1. **حدد الاحتياجات**: عدد الركاب والاستخدام
2. **ضع ميزانية**: شامل التكاليف الإضافية
3. **اقرأ المراجعات**: آراء المالكين والخبراء
4. **جرب القيادة**: اختبر السيارات المختلفة

### أثناء الشراء
1. **قارن العروض**: من عدة وكلاء
2. **تحقق من الضمان**: مدة وتغطية
3. **افهم التمويل**: شروط القرض
4. **تأكد من الخدمات**: توفر قطع الغيار

## الخلاصة والتوصيات

### للعائلات الصغيرة (2-4 أفراد)
**الأفضل**: تويوتا كامري أو هوندا أكورد

### للعائلات المتوسطة (4-6 أفراد)  
**الأفضل**: مازدا CX-5 أو فولكس واجن تيجوان

### للعائلات الكبيرة (6+ أفراد)
**الأفضل**: هوندا أوديسي أو تويوتا سيينا

### لمحبي التقنية والبيئة
**الأفضل**: تيسلا موديل Y

اختر السيارة التي تناسب احتياجاتك وميزانيتك، وتذكر أن أفضل سيارة هي التي تخدم عائلتك بأمان وراحة لسنوات قادمة.`,
    excerpt: 'دليل شامل لاختيار أفضل السيارات العائلية لعام 2025 مع مقارنة تفصيلية للأسعار والمواصفات والتكاليف.',
    featured_image: 'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80',
    is_featured: false,
    car_make: 'Toyota',
    car_model: 'Camry',
    car_year: 2025,
    price_range_min: 28000,
    price_range_max: 55000,
    rating: 4.4,
    pros: ['مساحة واسعة', 'أمان عالي', 'موثوقية ممتازة', 'تكاليف معقولة'],
    cons: ['استهلاك وقود أعلى', 'تقنيات أقل', 'تصميم تقليدي'],
    specifications: {
      engine: 'Various Options',
      transmission: 'CVT/Automatic',
      fuel_economy: '7.5-9.5L/100km',
      seating: '5-8 passengers',
      safety_rating: '5 stars'
    },
    views_count: 178,
    likes_count: 34,
    reading_time: 9
  },
  {
    title: 'صيانة السيارة: الدليل الشامل للحفاظ على سيارتك',
    slug: 'complete-car-maintenance-guide',
    content: `الصيانة المنتظمة هي مفتاح الحفاظ على سيارتك في أفضل حالة وإطالة عمرها الافتراضي. إليك دليل شامل لجميع جوانب صيانة السيارة.

## الصيانة الأساسية

### تغيير الزيت والفلتر
- **التوقيت**: كل 5,000-10,000 كم
- **الأهمية**: حماية المحرك من التآكل
- **النصيحة**: استخدم نوع الزيت المناسب لسيارتك

### فحص الإطارات
- **الضغط**: تحقق شهرياً
- **العمق**: فحص نعل الإطار
- **التبديل**: دوران الإطارات كل 10,000 كم

### فحص المكابح
- **أقراص المكابح**: فحص سنوي
- **سائل المكابح**: تغيير كل سنتين
- **العلامات**: صوت صرير أو اهتزاز

## الصيانة الدورية

### كل 3 أشهر
- فحص السوائل (زيت، ماء، فرامل)
- تنظيف السيارة من الداخل والخارج
- فحص الأضواء والإشارات
- فحص حالة المساحات

### كل 6 أشهر
- فحص البطارية والأطراف
- تنظيف فلتر الهواء
- فحص أحزمة المحرك
- فحص نظام التكييف

### سنوياً
- فحص شامل في الورشة
- تغيير فلتر الهواء
- فحص نظام العادم
- فحص نظام التعليق

## علامات تحتاج صيانة فورية

### أصوات غير طبيعية
- **صرير**: مشكلة في المكابح
- **طقطقة**: مشكلة في المحرك
- **صفير**: مشكلة في الأحزمة

### مشاكل الأداء
- **صعوبة التشغيل**: بطارية أو بوجيات
- **اهتزاز**: عجلات أو محرك
- **استهلاك وقود عالي**: عدة أسباب محتملة

### تسريبات
- **زيت المحرك**: بقع تحت السيارة
- **سائل التبريد**: رائحة حلوة
- **سائل المكابح**: خطر على السلامة

## نصائح توفير تكاليف الصيانة

### الصيانة الوقائية
- اتبع جدول الصيانة
- لا تؤجل المشاكل الصغيرة
- استخدم قطع غيار أصلية أو معتمدة

### اختيار الورشة المناسبة
- ورشة معتمدة للضمان
- مقارنة الأسعار
- قراءة تقييمات العملاء

### التعلم الأساسي
- بعض الأعمال يمكن عملها بنفسك
- فهم أساسيات السيارة
- متابعة إرشادات الدليل

## الصيانة حسب نوع السيارة

### السيارات الجديدة (0-3 سنوات)
- اتبع جدول الصيانة بدقة
- صيانة في الوكالة للضمان
- تركيز على الصيانة الوقائية

### السيارات المتوسطة العمر (3-7 سنوات)
- زيادة تردد الفحص
- استبدال القطع المستهلكة
- مراقبة المشاكل الشائعة

### السيارات القديمة (7+ سنوات)
- فحص شامل ومتكرر
- استبدال القطع التالفة فوراً
- تقييم تكلفة الصيانة مقابل القيمة

## أدوات مفيدة لأصحاب السيارات

### أدوات أساسية
- مجموعة مفاتيح
- جهاز قياس ضغط الإطارات
- كابلات تشغيل الطوارئ
- سائل غسيل الزجاج

### تطبيقات مفيدة
- تذكير مواعيد الصيانة
- متابعة استهلاك الوقود
- إيجاد أقرب ورشة
- تسجيل تكاليف الصيانة

## الخلاصة

الصيانة المنتظمة استثمار في سلامتك وسلامة سيارتك. لا تنتظر حتى تتفاقم المشاكل، بل اعتن بسيارتك وستعتني بك.

**تذكر**: الصيانة الوقائية أرخص دائماً من الإصلاحات الطارئة.`,
    excerpt: 'دليل شامل لصيانة السيارة يتضمن جداول الصيانة الدورية، علامات التحذير، ونصائح لتوفير التكاليف.',
    featured_image: 'https://images.unsplash.com/photo-1486262715619-67b85e0b08d3?w=800&q=80',
    is_featured: false,
    car_make: 'General',
    car_model: 'All Models',
    car_year: 2024,
    price_range_min: 100,
    price_range_max: 1000,
    rating: 4.8,
    pros: ['توفير المال', 'إطالة عمر السيارة', 'تحسين الأداء', 'الحفاظ على الضمان'],
    cons: ['تكلفة منتظمة', 'وقت وجهد', 'اختيار الورشة المناسبة'],
    specifications: {
      maintenance_type: 'Preventive',
      frequency: 'Regular',
      difficulty: 'Easy to Advanced',
      tools_required: 'Basic to Professional',
      time_required: '30 min - 4 hours'
    },
    views_count: 245,
    likes_count: 67,
    reading_time: 10
  },
  {
    title: 'أفضل السيارات الرياضية بميزانية محدودة لعام 2025',
    slug: 'best-affordable-sports-cars-2025',
    content: `لا تحتاج إلى ميزانية ضخمة للاستمتاع بقيادة سيارة رياضية مثيرة. إليك أفضل الخيارات بأسعار معقولة.

## السيارات الرياضية الجديدة

### مازدا MX-5 Miata 2025
**لماذا نحبها:**
- متعة القيادة الخالصة
- سعر منافس جداً
- موثوقية عالية
- استهلاك وقود معقول

**المواصفات:**
- المحرك: 2.0 لتر 4 سلندر
- القوة: 181 حصان
- التسارع: 6.1 ثانية (0-100)
- السعر: $31,000

### سوبارو BRZ 2025
**المميزات:**
- دفع خلفي نقي
- توازن مثالي
- سعر معقول
- قابلية تطوير عالية

**المواصفات:**
- المحرك: 2.4 لتر بوكسر
- القوة: 228 حصان
- التسارع: 6.1 ثانية
- السعر: $33,500

### فولكس واجن جولف GTI 2025
**نقاط القوة:**
- أداء يومي ممتاز
- مساحة عملية
- تقنيات متقدمة
- تراث رياضي عريق

**المواصفات:**
- المحرك: 2.0 لتر تيربو
- القوة: 241 حصان
- التسارع: 5.7 ثانية
- السعر: $35,000

## السيارات المستعملة المميزة

### هوندا S2000 (2000-2009)
**لماذا خيار ممتاز:**
- محرك VTEC أسطوري
- قيمة متزايدة
- تجربة قيادة نقية
- موثوقية هوندا

**نصائح الشراء:**
- ابحث عن سجل صيانة كامل
- تجنب المعدلة بشدة
- فحص صندوق التروس
- السعر: $25,000-45,000

### بي ام دبليو M3 E46 (2001-2006)
**الجاذبية:**
- أيقونة رياضية
- محرك طبيعي رائع
- ديناميكية قيادة ممتازة
- إمكانيات تطوير لا محدودة

**تحديات:**
- تكاليف صيانة مرتفعة
- أجزاء باهظة
- حاجة خبرة في الصيانة
- السعر: $20,000-40,000

### نيسان 350Z (2003-2008)
**المزايا:**
- أداء قوي
- صوت محرك مميز
- سعر معقول
- مجتمع تطوير كبير

**النواقص:**
- استهلاك وقود عالي
- مقصورة أساسية
- مساحة محدودة
- السعر: $15,000-25,000

## نصائح لشراء سيارة رياضية بميزانية محدودة

### حدد أولوياتك
1. **الأداء المطلق**: تسارع وسرعة قصوى
2. **متعة القيادة**: توازن وتحكم
3. **الاستخدام اليومي**: راحة وعملية
4. **الاستثمار**: احتفاظ بالقيمة

### ميزانية شاملة
- **السعر الأساسي**: 60-70% من الميزانية
- **التأمين**: قد يكون مرتفعاً
- **الصيانة**: احسب التكاليف السنوية
- **التطوير**: إذا كان مطلوباً

### فحص ما قبل الشراء
- **المحرك**: صوت وأداء منتظم
- **ناقل الحركة**: تبديل سلس
- **نظام التعليق**: فحص الاهتراء
- **الهيكل**: تلف أو صدأ

## البدائل الكهربائية

### تيسلا موديل 3 Performance (مستعملة)
**المميزات:**
- تسارع صاروخي (3.1 ثانية)
- تقنيات متقدمة
- تكلفة تشغيل منخفضة
- تحديثات مستمرة

**التحديات:**
- سعر لا يزال مرتفعاً
- شبكة شحن محدودة
- قطع غيار خاصة
- السعر: $35,000-50,000

## مقارنة التكاليف السنوية

### التأمين (تقديري)
- مازدا MX-5: $1,200
- سوبارو BRZ: $1,400
- جولف GTI: $1,500
- BMW M3 E46: $2,000

### الصيانة السنوية
- اليابانية: $800-1,200
- الألمانية: $1,500-3,000
- الأمريكية: $1,000-1,800

## نصائح للمبتدئين

### ابدأ بالأساسيات
- تعلم القيادة الدفاعية أولاً
- خذ دورة قيادة رياضية
- ابدأ بسيارة معتدلة القوة
- ركز على المهارة قبل القوة

### الانضمام للمجتمع
- نوادي السيارات المحلية
- منتديات وتطبيقات
- فعاليات ومسارات آمنة
- تبادل الخبرات

## الخلاصة

السيارة الرياضية المثالية بميزانية محدودة هي التي تجمع بين:
- **الأداء المناسب** لمستوى خبرتك
- **الموثوقية** للاستخدام اليومي
- **التكلفة المعقولة** للملكية
- **المتعة الحقيقية** في القيادة

تذكر: أفضل سيارة رياضية هي التي تجعلك تبتسم في كل مرة تقودها!`,
    excerpt: 'اكتشف أفضل السيارات الرياضية بأسعار معقولة لعام 2025، مع مقارنة شاملة للجديدة والمستعملة ونصائح الشراء.',
    featured_image: 'https://images.unsplash.com/photo-1544829099-b9a0c5303bea?w=800&q=80',
    is_featured: true,
    car_make: 'Mazda',
    car_model: 'MX-5 Miata',
    car_year: 2025,
    price_range_min: 15000,
    price_range_max: 50000,
    rating: 4.7,
    pros: ['متعة قيادة عالية', 'أسعار معقولة', 'مجتمع نشط', 'قابلية تطوير'],
    cons: ['مساحة محدودة', 'راحة أقل', 'تكاليف تأمين أعلى', 'استهلاك وقود أكبر'],
    specifications: {
      engine: '2.0L-2.4L Various',
      transmission: 'Manual/Automatic',
      fuel_economy: '9-12L/100km',
      seating: '2-4 passengers',
      safety_rating: '4-5 stars'
    },
    views_count: 312,
    likes_count: 89,
    reading_time: 12
  },
  {
    title: 'شراء السيارة عبر الإنترنت: الدليل الآمن للتسوق الرقمي',
    slug: 'safe-online-car-buying-guide',
    content: `التسوق الرقمي للسيارات أصبح أكثر شيوعاً، لكنه يتطلب حذراً وخطوات محددة لضمان تجربة آمنة وناجحة.

## مزايا الشراء عبر الإنترنت

### الراحة والمرونة
- تصفح المئات من السيارات من المنزل
- مقارنة الأسعار والمواصفات بسهولة
- توفير الوقت والجهد
- إمكانية البحث في أي وقت

### خيارات أوسع
- الوصول لسيارات من مناطق مختلفة
- مقارنة عروض متعددة
- إيجاد موديلات نادرة
- أسعار تنافسية أكثر

### شفافية المعلومات
- تفاصيل كاملة ومصورة
- تقارير حالة السيارة
- تاريخ الصيانة والحوادث
- تقييمات المشترين السابقين

## المنصات الموثوقة

### مواقع الوكلاء الرسميين
**المزايا:**
- ضمان الأصالة
- خدمة ما بعد البيع
- إجراءات آمنة
- سمعة معروفة

**أمثلة:**
- مواقع تويوتا، هوندا، فورد الرسمية
- منصات الوكلاء المحليين
- شبكات الوكلاء المتعددة

### منصات التجارة الإلكترونية المتخصصة
**خصائص الثقة:**
- نظام تقييمات شامل
- حماية المشتري
- عمليات دفع آمنة
- خدمة عملاء متاحة

### مواقع المزادات الإلكترونية
**نصائح للأمان:**
- تحقق من سمعة البائع
- اقرأ الشروط بعناية
- احسب التكاليف الإضافية
- ضع حد أقصى للمزايدة

## خطوات الشراء الآمن

### 1. البحث والتقييم الأولي
- **حدد الموديل المطلوب** وسنة الصنع
- **اقرأ المراجعات** والتقييمات
- **قارن الأسعار** في السوق
- **ضع ميزانية واقعية**

### 2. فحص المعروضات
- **صور واضحة** من جميع الزوايا
- **وصف تفصيلي** للحالة
- **أرقام الممر والمحرك**
- **سجل الصيانة**

### 3. التواصل مع البائع
- **اطرح أسئلة محددة** عن الحالة
- **اطلب صور إضافية** إذا لزم
- **تحقق من المستندات**
- **اتفق على موعد معاينة**

### 4. المعاينة الشخصية
- **احضر خبير أو ميكانيكي**
- **جرب السيارة** في ظروف مختلفة
- **فحص شامل** للمحرك والهيكل
- **تأكد من الأوراق**

## علامات التحذير

### الأسعار المشبوهة
- **أسعار منخفضة جداً** مقارنة بالسوق
- **عروض "محدودة الوقت"** مع ضغط للشراء
- **رسوم خفية** تظهر لاحقاً
- **طلب دفع كامل مقدماً**

### سلوك البائع المريب
- **تجنب المكالمات الهاتفية**
- **رفض المعاينة الشخصية**
- **ضغط للإسراع في القرار**
- **معلومات متضاربة**

### مشاكل في المستندات
- **نسخ غير واضحة**
- **أسماء غير متطابقة**
- **تواريخ مشبوهة**
- **عدم توفر أوراق مهمة**

## طرق الدفع الآمنة

### الطرق المُوصى بها
1. **التحويل البنكي**: مع ضمانات
2. **الدفع عند الاستلام**: الأكثر أماناً
3. **خدمات الضمان**: مثل PayPal Business
4. **الشيكات المصرفية**: للمبالغ الكبيرة

### تجنب هذه الطرق
- **التحويلات الفورية** بدون ضمانات
- **البطاقات المدفوعة مقدماً**
- **العملات الرقمية** في الصفقات الكبيرة
- **النقد** للبائعين المجهولين

## الحماية القانونية

### اقرأ العقد بعناية
- **شروط الإرجاع والاستبدال**
- **مدة وشروط الضمان**
- **المسؤوليات المختلفة**
- **إجراءات حل النزاعات**

### الوثائق المطلوبة
- **عقد البيع** موقع من الطرفين
- **فاتورة الشراء** مفصلة
- **شهادة نقل الملكية**
- **وثائق التأمين**

## نصائح إضافية للنجاح

### قبل اتخاذ القرار
- **خذ وقتك** في التفكير
- **استشر الخبراء** أو الأصدقاء
- **قارن عدة خيارات**
- **تأكد من التمويل**

### بعد الشراء
- **نقل الملكية فوراً**
- **تأمين شامل للسيارة**
- **فحص شامل في ورشة موثوقة**
- **الاحتفاظ بجميع الوثائق**

## التعامل مع المشاكل

### إذا واجهت مشكلة
1. **وثق كل شيء**: محادثات، صور، مستندات
2. **تواصل مع خدمة العملاء** للمنصة
3. **اطلب المساعدة القانونية** إذا لزم
4. **اتصل بالجهات المختصة**

### الوقاية خير من العلاج
- **ابحث عن سمعة البائع**
- **استخدم منصات موثوقة**
- **لا تتعجل في القرار**
- **ثق في حدسك**

## الخلاصة

شراء السيارة عبر الإنترنت يمكن أن يكون آمناً ومربحاً إذا اتبعت الخطوات الصحيحة:

1. **ابحث جيداً** قبل اتخاذ أي قرار
2. **تحقق من المصداقية** في كل خطوة
3. **لا تتنازل عن المعاينة** الشخصية
4. **استخدم طرق دفع آمنة**
5. **احم نفسك قانونياً**

تذكر: الصفقة الجيدة جداً قد تكون مشبوهة، والحذر أولاً!`,
    excerpt: 'دليل شامل للشراء الآمن للسيارات عبر الإنترنت، مع نصائح الحماية من الاحتيال وأفضل الممارسات.',
    featured_image: 'https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&q=80',
    is_featured: false,
    car_make: 'General',
    car_model: 'All Models',
    car_year: 2024,
    price_range_min: 10000,
    price_range_max: 100000,
    rating: 4.9,
    pros: ['راحة التسوق', 'خيارات أوسع', 'مقارنة سهلة', 'شفافية المعلومات'],
    cons: ['مخاطر الاحتيال', 'لا يمكن اللمس', 'تعقيدات النقل', 'صعوبة المعاينة'],
    specifications: {
      platform_type: 'Online Marketplace',
      safety_level: 'High with precautions',
      convenience: 'Very High',
      time_saving: 'Significant',
      risk_level: 'Medium'
    },
    views_count: 198,
    likes_count: 52,
    reading_time: 11
  }
];

/**
 * Create a single blog post
 * @param {Object} postData - Post data object
 * @param {Object} author - Author information
 * @param {Object} category - Category information
 * @returns {Promise<number>} Post ID
 */
async function createSinglePost(postData, author, category) {
  try {
    // Check if post already exists
    const existingPost = await knex('blog_posts').where('slug', postData.slug).first();

    if (existingPost) {
      console.log(`✅ Post "${postData.title}" already exists (ID: ${existingPost.id})`);
      return existingPost.id;
    }

    // Prepare post data for database
    const dbPostData = {
      title: postData.title,
      slug: postData.slug,
      content: postData.content,
      excerpt: postData.excerpt,
      featured_image: postData.featured_image,
      author_id: author.id,
      category_id: category.id,
      status: 'published',
      is_featured: postData.is_featured,
      meta_title: postData.title,
      meta_description: postData.excerpt,
      reading_time: postData.reading_time,
      views_count: postData.views_count,
      likes_count: postData.likes_count,
      comments_count: 0,
      published_at: knex.fn.now(),

      // Car-specific fields
      car_make: postData.car_make,
      car_model: postData.car_model,
      car_year: postData.car_year,
      price_range_min: postData.price_range_min,
      price_range_max: postData.price_range_max,
      price_currency: 'USD',
      market_trend: 'stable',
      source: 'Cars Bids Team',
      rating: postData.rating,
      pros: JSON.stringify(postData.pros),
      cons: JSON.stringify(postData.cons),
      specifications: JSON.stringify(postData.specifications)
    };

    // Insert the blog post
    const [insertedPost] = await knex('blog_posts').insert(dbPostData).returning('id');
    const postId = insertedPost.id || insertedPost;

    console.log(`✅ Created post: "${postData.title}" (ID: ${postId})`);
    return postId;

  } catch (error) {
    console.error(`❌ Failed to create post "${postData.title}":`, error.message);
    throw error;
  }
}

/**
 * Add tags to a blog post
 * @param {number} postId - Post ID
 * @param {Array} tagSlugs - Array of tag slugs to add
 */
async function addTagsToPost(postId, tagSlugs) {
  try {
    const tags = await knex('blog_tags').select('id', 'name').whereIn('slug', tagSlugs);

    if (tags.length > 0) {
      // Check existing relationships to avoid duplicates
      const existingRelations = await knex('blog_post_tags')
        .where('post_id', postId)
        .whereIn('tag_id', tags.map(t => t.id));

      const existingTagIds = existingRelations.map(r => r.tag_id);
      const newTags = tags.filter(t => !existingTagIds.includes(t.id));

      if (newTags.length > 0) {
        const tagRelations = newTags.map(tag => ({
          post_id: postId,
          tag_id: tag.id
        }));

        await knex('blog_post_tags').insert(tagRelations);
        console.log(`   🏷️  Added tags: ${newTags.map(t => t.name).join(', ')}`);
      }
    }
  } catch (error) {
    console.error(`❌ Failed to add tags to post ${postId}:`, error.message);
  }
}

async function createSamplePosts() {
  try {
    console.log('🔄 Creating sample blog posts...');

    // Get authors (sellers) to use as authors
    const sellers = await knex('sellers').select('id', 'username', 'first_name', 'last_name').limit(3);

    if (!sellers || sellers.length === 0) {
      console.error('❌ No sellers found in database. Please create a seller first.');
      return;
    }

    // Get categories to use
    const categories = await knex('blog_categories').select('id', 'name');

    if (!categories || categories.length === 0) {
      console.error('❌ No blog categories found. Please run migrations first.');
      return;
    }

    console.log(`📊 Found ${sellers.length} authors and ${categories.length} categories`);

    let createdCount = 0;
    let skippedCount = 0;

    // Process each sample post
    for (let i = 0; i < samplePosts.length; i++) {
      const postData = samplePosts[i];

      console.log(`\n📝 Processing post ${i + 1}/${samplePosts.length}: "${postData.title}"`);

      // Check if post already exists
      const existingPost = await knex('blog_posts').where('slug', postData.slug).first();

      if (existingPost) {
        console.log('⏭️ Post already exists, skipping...');
        skippedCount++;
        continue;
      }

      // Select author and category
      const author = sellers[i % sellers.length]; // Rotate through available authors
      const category = categories[i % categories.length]; // Rotate through available categories

      // Convert markdown content to HTML
      const { html: htmlContent, readingTime: calculatedReadingTime } = markdownToHtml(postData.content);

      // Prepare post data for database
      const dbPost = {
        title: postData.title,
        slug: postData.slug,
        content: htmlContent, // Store HTML instead of markdown
        excerpt: postData.excerpt,
        featured_image: postData.featured_image,
        author_id: author.id,
        category_id: category.id,
        status: 'published',
        is_featured: postData.is_featured || false,
        meta_title: postData.title,
        meta_description: postData.excerpt,
        reading_time: calculatedReadingTime || postData.reading_time || 5,
        views_count: postData.views_count || 0,
        likes_count: postData.likes_count || 0,
        comments_count: 0,
        published_at: knex.fn.now(),

        // Car-specific fields
        car_make: postData.car_make,
        car_model: postData.car_model,
        car_year: postData.car_year,
        price_range_min: postData.price_range_min,
        price_range_max: postData.price_range_max,
        price_currency: 'USD',
        market_trend: 'stable',
        source: 'Cars Bids Team',
        rating: postData.rating || 4.0,
        pros: JSON.stringify(postData.pros || []),
        cons: JSON.stringify(postData.cons || []),
        specifications: JSON.stringify(postData.specifications || {})
      };

      try {
        // Insert the blog post
        const [insertedPost] = await knex('blog_posts').insert(dbPost).returning('id');
        const postId = insertedPost.id || insertedPost;

        console.log(`✅ Post created with ID: ${postId}`);
        console.log(`   - Author: ${author.first_name} ${author.last_name} (${author.username})`);
        console.log(`   - Category: ${category.name}`);
        console.log(`   - Featured: ${dbPost.is_featured ? 'Yes' : 'No'}`);

        // Add some default tags to the post
        const availableTags = await knex('blog_tags').select('id', 'name').limit(3);

        if (availableTags.length > 0) {
          const tagRelations = availableTags.map(tag => ({
            post_id: postId,
            tag_id: tag.id
          }));

          await knex('blog_post_tags').insert(tagRelations);
          console.log(`🏷️ Tags added: ${availableTags.map(t => t.name).join(', ')}`);
        }

        createdCount++;

      } catch (insertError) {
        console.error(`❌ Failed to create post "${postData.title}":`, insertError.message);
      }
    }

    console.log('\n📊 Summary:');
    console.log(`   ✅ Created: ${createdCount} posts`);
    console.log(`   ⏭️ Skipped: ${skippedCount} posts (already existed)`);
    console.log(`   📝 Total processed: ${samplePosts.length} posts`);

  } catch (error) {
    console.error('❌ Failed to create sample blog posts:', error.message);
    console.error('Stack trace:', error.stack);
  } finally {
    await knex.destroy();
  }
}

createSamplePosts();
